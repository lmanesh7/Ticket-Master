import{a as X}from"/build/_shared/chunk-5UXHC3PJ.js";import{a as F,b as g,c as P,d as q,e as m,f as c}from"/build/_shared/chunk-4XRWHIFM.js";import{a as k}from"/build/_shared/chunk-A62XF3CA.js";import{a as w}from"/build/_shared/chunk-J4UCJ3T4.js";import{c as O}from"/build/_shared/chunk-XX5622KO.js";import"/build/_shared/chunk-P5YPHNIW.js";import{a as H}from"/build/_shared/chunk-PGOH7JLP.js";import{g as R,k as C}from"/build/_shared/chunk-BU5VY3X4.js";import{a as U}from"/build/_shared/chunk-JA4FJ5TH.js";import{G as n,J as B,M as v,c as M,p as S}from"/build/_shared/chunk-Z6MCQOJL.js";import{a as V,m as D,q as I}from"/build/_shared/chunk-6KANJRLS.js";import{c as r}from"/build/_shared/chunk-Q3IECNXJ.js";var G=r(H());var i=r(V());var J=r(X());var K=r(U());var e=r(I());function j(){var y,x,E,A,N;let a=D(),{teams:l}=O(),[u,f]=i.useState(null),[t,p]=i.useState(null),[b,h]=i.useState(0),[z,s]=S(!1),d=a.state!=="idle";return i.useEffect(()=>{var o;a.state!=="idle"&&a.submission===void 0||(o=a.data)!=null&&o.success&&(f(null),s.close())},[(y=a.data)==null?void 0:y.success,a.state,a.submission]),i.useEffect(()=>{if(!u){p(null);return}let o=l.find(T=>T.id===u);o&&(p(o),s.open())},[l,u]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"flex max-w-screen-xl flex-col gap-12 p-10",children:(0,e.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,e.jsx)(w,{title:"Teams",rightSection:(0,e.jsx)(n,{color:"dark",radius:"md",onClick:()=>{h(1),s.open()},leftIcon:(0,e.jsx)(C,{size:18}),children:"Create"})}),l.length>0?(0,e.jsx)("div",{className:"flow-root",children:(0,e.jsx)("div",{className:"inline-block min-w-full py-2 align-middle",children:(0,e.jsxs)(F,{children:[(0,e.jsx)(q,{children:(0,e.jsxs)(g,{children:[(0,e.jsx)(m,{pos:"first",children:"Name"}),(0,e.jsx)(m,{children:"Abbreviation"}),(0,e.jsx)(m,{pos:"last",children:(0,e.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,e.jsx)(P,{children:l.map((o,T)=>{let L=T===l.length-1;return(0,e.jsxs)(g,{hasBorder:!L,children:[(0,e.jsx)(c,{pos:"first",children:o.name}),(0,e.jsx)(c,{children:o.abbr}),(0,e.jsx)(c,{children:(0,e.jsx)("div",{className:"flex items-center justify-end gap-4",children:(0,e.jsx)(n,{loading:d,variant:"subtle",color:"gray",compact:!0,loaderPosition:"right",onClick:()=>{f(o.id),h(0)},children:"Edit"})})})]})})})]})})}):(0,e.jsx)(k,{label:"No teams have been added yet",icon:(0,e.jsx)(R,{size:70,className:"text-gray-600"})})]})}),(0,e.jsx)(B,{opened:z,onClose:()=>{f(null),s.close()},title:M({"Edit team":b===0,"Add team":b===1}),centered:!0,overlayBlur:1.2,overlayOpacity:.6,children:(0,e.jsx)(a.Form,{method:"post",replace:!0,children:(0,e.jsxs)("fieldset",{disabled:d,className:"flex flex-col gap-4",children:[(0,e.jsx)("input",{type:"hidden",name:"teamId",value:t==null?void 0:t.id}),(0,e.jsx)(v,{name:"name",label:"Name",defaultValue:t==null?void 0:t.name,error:(E=(x=a.data)==null?void 0:x.fieldErrors)==null?void 0:E.name,required:!0}),(0,e.jsx)(v,{name:"abbr",label:"Abbreviation",defaultValue:t==null?void 0:t.abbr,error:(N=(A=a.data)==null?void 0:A.fieldErrors)==null?void 0:N.abbr,required:!0}),(0,e.jsxs)("div",{className:"mt-1 flex items-center justify-end gap-4",children:[(0,e.jsx)(n,{variant:"subtle",disabled:d,onClick:()=>{p(null),s.close()},color:"red",children:"Cancel"}),(0,e.jsx)(n,{type:"submit",loading:d,loaderPosition:"right",children:b===0?"Save changes":"Add teams"})]})]})})})]})}export{j as default};
